# AtomicHabits

:calendar: В 2018 году Джеймс Клир написал книгу «Атомные привычки», которая посвящена приобретению новых полезных привычек и искоренению старых плохих привычек. Данное приложение предназначено для создания напоминаний о нужных привычках и их отправке пользователю через telegram.
Приложение реализует механизм CRUD для сущности "Привычка", позволяет регистрировать пользователей и отправлять напоминания в telegram.
---------------------------------------------

Сервис использует PostgreSQL в качестве основной базы данных для проекта, **Celery** для выполнения различных периодических задач (таких как отслеживание напоминаний, требующих отправки), 
а также **Redis** -  NoSQL базу данных для обеспечения работы Celery с периодическими задачами.

:clipboard: Для использования приложения следует выполнить ряд инструкций:
1. Клонировать проект
2. Проверить наличие и установить при необходимости программы **PostgreSQL**, **Celery** и **Redis**
3. Установить и активировать виртуальное окружение для проекта
4. Установить зависимости из файла *requirements.txt* или *pyproject.toml*
5. Создать базу данных в **postgres** и внести требуемые настройки в файл *.env* (пример оформления и наполнения такого файла находится в корне проекта и называется *.env.sample*)
6. Создать своего телеграм-бота (для этого нужно перейти по [ссылке](https://t.me/BotFather)) или использовать уже имеющегося
7. Записать токен своего бота в файл *.env*
8. Провести миграции `python manage.py migrate`
9. Создать суперюзера для возможности администрирования при помощи команды `python manage.py create_superuser`
10. Запустить сервер `python manage.py runserver`
11. Запустить главную функцию в файле *telegram-bot/telegram_bot.py*
12. Запустить в консоли обработчика задач (worker) и планировщика задач:
    + `celery -A config worker --loglevel=info`
    + `celery -A config beat --loglevel=info`

Для того, чтобы пользователь смог получать уведомления в telegram, он должен начать диалог с созданным ботом через команду /start в соответствующем чате. 
После этого он может создавать привычки с требуемой периодичностью напоминания и получать уведомления, когда придет время выполнить действие. 

:clock2:

Привычки будут приходить в виде сообщений с приблизительной структурой:

![image](https://github.com/Kseniia-Artemova/AtomicHabits/assets/127607406/2a010fd8-e220-4459-8e2a-7c74a00d60f0)

![image](https://github.com/Kseniia-Artemova/AtomicHabits/assets/127607406/94dee490-d4f0-40f3-80bf-3c6a0404586a)

![image](https://github.com/Kseniia-Artemova/AtomicHabits/assets/127607406/85429544-55f8-40d3-b1a0-67864e353f3b)


